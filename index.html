<!DOCTYPE html>
<html lang="en">
<head>
  <meta property="og:title" content="BGSI Chance Calculator" />
  <meta property="og:description" content="Easy to use site for calculating chances of hatching a Legendary/Secret/Infinity pet!" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://wiktorxd-1.github.io/bgsi-chances/" />
  <meta property="og:image" content="Images/Icons/favicon.ico" />
  <meta property="og:image" id="og-image-meta" content="Images/Icons/favicon.ico" />
  <link rel="icon" href="/bgsi-chances/Images/Icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="/bgsi-chances/Images/Icons/favicon.ico" />
  <meta name="msapplication-TileImage" content="/bgsi-chances/Images/Icons/favicon.ico" />
  <meta property="og:description" id="og-description-meta" content="Easy to use site for calculating chances of hatching a Legendary/Secret/Infinity pet!" />
  <meta name="description" id="meta-description" content="Easy to use site for calculating chances of hatching a Legendary/Secret/Infinity pet!" />
  <meta name="twitter:description" id="twitter-description-meta" content="Easy to use site for calculating chances of hatching a Legendary/Secret/Infinity pet!" />
  <meta name="theme-color" content="#FBE7BD" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="BGSI Chance Calculator" />
  <meta name="twitter:description" content="Easy to use site for calculating chances of hatching a Legendary/Secret/Infinity pet!" />
  <meta name="twitter:image" content="Images/Icons/favicon.ico" />
  <link rel="icon" href="Images/Icons/favicon.ico" type="image/x-icon">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BGSI Chance Calculator</title>
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Roboto:wght@400;700&family=Lexend:wght@400;700&display=swap" rel="stylesheet">

  <style>
    .seo-hidden {
      position: absolute !important;
      left: -99999px !important;
      top: auto !important;
      width: 1px !important;
      height: 1px !important;
      overflow: hidden !important;
      white-space: nowrap !important;
      clip: rect(1px, 1px, 1px, 1px) !important;
    }
    .outline-button {
      background: transparent;
      border: 2px solid rgba(59,130,246,0.9); 
      color: inherit;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 700;
      transition: background .12s, color .12s, box-shadow .12s;
    }
    .outline-button.active {
      background: rgba(59,130,246,0.06);
      box-shadow: 0 6px 18px rgba(59,130,246,0.08);
    }
  </style>
</head>
<body>
  <div class="menu-discord-wrapper" id="menu-discord-wrapper">
    <button class="menu-icon" onclick="toggleSidebar()">
      <img id="menu-icon-img" src="Images/Icons/menu.ico" alt="Menu" />
    </button>
    <a href="https://discord.gg/4zXsCpqF3m"
       class="discord-invite-under-menu"
       target="_blank"
       title="Join our discord server!">
      <img src="Images/Icons/discord.ico" alt="Discord Icon">
    </a>
  </div>

  <div class="seo-hidden" aria-hidden="false" role="note">
    This is a site to calculate luck for BGSI (Bubble gum simulator infinity) It supports shiny, mythic, shiny mythic calculations, it supports secret luck and normal luck, easy to use clean ui, BGSI calculator for chance, hatching, secret, infinity, pets, luck, wiktorxd-1, wiktorxd_1, eggs, luck, hatch, odds, chance, bubble gum simulator infinity luck calculator, bgsi hatching calculator, helping you calculate, help, secret chances, secret chance
  </div>

  <div class="container">
    <h1>BGSI Chance Calculator</h1>
    <p>Calculator for BGSI legendaries and secret pets chances, easy to use, just enter the luck multiplier and see the chances</p>
    <div class="main-layout">
      <div class="worlds-sidebar">
        <button class="world-icon-btn infinity" onclick="selectWorld('infinity')">
          <img src="Images/eggs/Infinity_Egg.webp" alt="Infinity Egg Icon" class="world-icon infinity" />
          <div class="world-label">Infinity Egg</div>
        </button>
        <button class="world-icon-btn overworld" onclick="selectWorld('1')">
          <img src="Images/Icons/The_Overworld_Icon.webp" alt="Overworld Icon" class="world-icon overworld" />
          <div class="world-label">Overworld</div>
        </button>
        <button class="world-icon-btn minigame" onclick="selectWorld('2')">
          <img src="Images/Icons/Minigame_Paradise_Icon.webp" alt="Minigame Paradise Icon" class="world-icon minigame" />
          <div class="world-label">Minigame Paradise</div>
        </button>
        <button class="world-icon-btn seas" onclick="selectWorld('3')">
          <img src="Images/Icons/Seven_Seas_Icon.webp" alt="Seven Seas Icon" class="world-icon seas" />
          <div class="world-label">Seven Seas</div>
        </button>
        <button class="world-icon-btn limited" onclick="selectWorld('limited')">
          <img src="Images/Icons/Timer_Icon.webp" alt="Limited Icon" class="world-icon limited" />
          <div class="world-label">Limited</div>
        </button>
      </div>
      <div class="eggs-area">
        <div class="search-bar-row" id="search-bar-row" style="display:flex;align-items:center;gap:8px;position:relative;">
          <input type="text" id="search-bar" class="egg-search-bar skinned-input" placeholder="Search eggs or pets..." />
        </div>
        <div id="egg-list" class="egg-list-grid"></div>
      </div>
    </div>
  </div>
  <div class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <h2>Menu</h2>
    </div>
    <div class="sidebar-nav">
      <a 
        href="https://wiktorxd-1.github.io/bgsi-chances/"
        class="sidebar-link sidebar-calc-link"
        id="sidebar-calc-link"
        >Calculator</a>
      <a 
        href="https://wiktorxd-1.github.io/bgsi-chances/hatches"
        class="sidebar-link sidebar-hatches-link"
        id="sidebar-hatches-link"
        >Hatches</a>
    </div>
    <div class="sidebar-content">
      <a href="https://discord.gg/4zXsCpqF3m" class="discord-invite" target="_blank">
        <img src="Images/Icons/discord.ico" alt="Discord Icon">
      </a>
    </div>
    <div style="display: flex; flex-direction: row; justify-content: flex-end; align-items: center; gap: 10px; margin-bottom: 10px;">
      <button class="settings-button-sidebar" onclick="toggleSettingsPopup(event)" style="background: none; border: none; padding: 0; cursor: pointer; margin-right: 5px;">
        <img src="Images/Icons/settings.ico" alt="Settings Icon" style="width: 32px; height: 32px; display: block;">
      </button>
    </div>
    <button class="credits-button-sidebar" onclick="showCreditsPopup(event)">Credits</button>
    <style>
    .sidebar {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      height: 100vh;
    }
    /* Slide-in sidebar animation (from right) */
    .sidebar {
      position: fixed;
      right: 0;
      left: auto;
      top: 0;
      height: 100vh;
      width: 320px;
      max-width: 85vw;
      transform: translateX(110%);
      transition: transform 340ms cubic-bezier(.25,.8,.25,1), opacity 260ms ease;
      z-index: 14000;
      will-change: transform;
    }
    .sidebar.open {
      transform: translateX(0);
    }
    .sidebar-header {
      margin-bottom: 0;
    }
    .sidebar-nav {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin: 18px 0 0 0;
      align-items: center;
    }
    .sidebar-link {
      color: var(--main-text);
      text-decoration: none;
      font-size: 1.18rem;
      font-weight: 600;
      padding: 2px 0 0 0;
      border-bottom: 2px solid transparent;
      border-top: none;
      transition: font-size 0.18s, border-bottom 0.18s;
      cursor: pointer;
      display: inline-block;
      text-align: center;
    }
    .sidebar-link:hover {
      font-size: 1.28rem;
      border-bottom: 2px solid #fff;
      text-decoration: none;
    }
    .sidebar-link.active, .sidebar-link[aria-current="page"] {
      border-bottom: 2.5px solid #fff;
      text-decoration: none;
    }

    .theme-options {
      display: flex;
      gap: 6px; 
      margin-top: 8px;
      align-items: center;
      margin-bottom: 8px; 
    }

    .theme-circle {
      width: 48px;
      height: 48px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: transform .18s ease, box-shadow .24s ease, background .18s ease;
      background: var(--controls-bg);
      color: var(--main-text);
      font-size: 0.85rem;
      box-sizing: border-box;
      padding: 6px;
    }

    .theme-circle:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 6px 20px rgba(0,0,0,0.12);
    }


    .theme-circle.selected {
      box-shadow:
        0 0 0 3px rgba(253,255,182,0.16),
        0 0 0 6px rgba(66,78,166,0.12);
      transform: scale(1.03);
      animation: theme-select-pulse .6s cubic-bezier(.2,.9,.3,1);
    }

    @keyframes theme-select-pulse {
      0% { transform: scale(0.985); }
      50% { transform: scale(1.04); }
      100% { transform: scale(1.03); }
    }

    .theme-circle span {
      display: none; 
    }


    body, .container, .sidebar, .egg-card, .hatch-card, .controls, .sidebar-link, .theme-circle, .menu-discord-wrapper, .world-icon-btn {
      transition: background-color .34s ease, color .34s ease, box-shadow .28s ease, border-color .28s ease, transform .18s ease;
    }


    #theme-overlay {
      position: fixed;
      inset: 0;
      z-index: 99999;
      pointer-events: none;
      background: var(--main-bg);
      opacity: 0;
      transition: opacity .36s ease;
    }
    </style>
  </div>
  <div class="credits-popup" id="credits-popup">
    <p><strong>piczu123:</strong> Old site, not being maintained<br>
      <a href="https://piczu123.github.io/BGSI-Chance-Calculator/" target="_blank" class="globe-link" title="https://piczu123.github.io/BGSI-Chance-Calculator/">
        <img src="Images/Icons/website.ico" alt="Website" class="globe-icon">
      </a>
      <a href="https://www.reddit.com/user/Working-Rest-3538/" target="_blank" class="globe-link" title="https://www.reddit.com/user/Working-Rest-3538/">
        <img src="Images/Icons/reddit.ico" alt="Reddit" class="globe-icon">
      </a>
    </p>
    <p><strong>BGSI wiki:</strong> Egg and Pet icons<br>
      <a href="https://bgs-infinity.fandom.com/" target="_blank" class="globe-link" title="https://bgs-infinity.fandom.com/">
        <img src="Images/Icons/website.ico" alt="Website" class="globe-icon">
      </a>
    </p>
    <p><strong>borngame:</strong> Egg and Pet Info<br>
      <a href="https://github.com/borngame" target="_blank" class="globe-link" title="https://github.com/borngame">
        <img src="Images/Icons/website.ico" alt="Website" class="globe-icon">
      </a>
    </p>
  </div>
  <div class="settings-popup" id="settings-popup" style="display:none;">
    <img src="Images/Icons/close.ico" alt="Close" title="Close" id="settings-close-btn" style="position:absolute;top:10px;right:12px;width:20px;height:20px;cursor:pointer;opacity:0.7;z-index:2;" onclick="document.getElementById('settings-popup').style.display='none'">
    <h2 style="margin-right:24px;">Settings</h2>
    <label for="theme-select">Choose your preferred theme:</label>
    <div class="theme-options">
      <div class="theme-circle" id="theme-dark" onclick="animateThemeSwitch('dark')" title="Dark theme">
        <span>Dark theme</span>
      </div>
      <div class="theme-circle" id="theme-purple" onclick="animateThemeSwitch('purple')" title="Purple (Legacy)">
        <span>Purple (Legacy)</span>
      </div>
    </div>
    <label for="font-select" style="margin-top:6px;margin-bottom:2px;display:block;">Choose your preferred font:</label>
    <select id="font-select" style="margin-top:0;">
      <option value="Arial">Arial (Default)</option>
      <option value="Lato">Lato</option>
      <option value="Roboto">Roboto</option>
      <option value="Comic Sans MS">Comic Sans MS</option>
      <option value="Lexend">Lexend</option>
    </select>
    
  <div id="main-content"></div>
  <script src="script.js"></script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "BGSI Chance Calculator",
    "url": "https://wiktorxd-1.github.io/bgsi-chances/",
    "logo": "https://wiktorxd-1.github.io/bgsi-chances/Images/Icons/favicon.ico"
  }
  </script>
  <script>
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const menuIconImg = document.getElementById('menu-icon-img');
      const discordInvite = document.querySelector('.discord-invite-under-menu');
      if (!menuIconImg) return;
      menuIconImg.classList.add('fading');
      setTimeout(() => {
        const opening = !sidebar.classList.contains('open');
        sidebar.classList.toggle('open', opening);
        try { sidebar.setAttribute('aria-hidden', opening ? 'false' : 'true'); } catch(e){}
        if (opening) document.body.style.overflow = 'hidden'; else document.body.style.overflow = '';
        menuIconImg.src = opening ? 'Images/Icons/close.ico' : 'Images/Icons/menu.ico';
        menuIconImg.alt = opening ? 'Close' : 'Menu';
        if (discordInvite) discordInvite.style.display = opening ? 'none' : '';
        menuIconImg.classList.remove('fading');
        }, 340);
    }
    function showCreditsPopup(event) {
      event.preventDefault();
      event.stopPropagation();
      const popup = document.getElementById('credits-popup');
      popup.classList.add('show');
    }
    function hideCreditsPopup() {
      const popup = document.getElementById('credits-popup');
      popup.classList.remove('show');
    }
    function toggleSettingsPopup(event) {
      event.preventDefault();
      event.stopPropagation();
      const popup = document.getElementById('settings-popup');
      if (popup.style.display === 'block') {
        popup.style.display = 'none';
      } else {
        popup.style.display = 'block';
      }
    }
    function setFont(font) {
      let fontFamily;
      switch (font) {
        case 'Lato':
          fontFamily = 'Lato, Arial, Helvetica, sans-serif';
          break;
        case 'Roboto':
          fontFamily = 'Roboto, Arial, Helvetica, sans-serif';
          break;
        case 'Lexend':
          fontFamily = 'Lexend, Arial, Helvetica, sans-serif';
          break;
        case 'Helvetica':
          fontFamily = 'Helvetica, Arial, sans-serif';
          break;
        case 'Comic Sans MS':
          fontFamily = 'Comic Sans MS, Arial, Helvetica, sans-serif';
          break;
        case 'Arial':
        default:
          fontFamily = 'Arial, Helvetica, sans-serif';
      }
      document.body.style.fontFamily = fontFamily;
      localStorage.setItem('selectedFont', font);
    }
    document.addEventListener('DOMContentLoaded', function() {
      const fontSelect = document.getElementById('font-select');
      if (fontSelect) {
        const savedFont = localStorage.getItem('selectedFont') || 'Arial';
        fontSelect.value = savedFont;
        setFont(savedFont);
        fontSelect.addEventListener('change', function() {
          setFont(this.value);
        });
      }
      const savedTheme = localStorage.getItem('selectedTheme') || 'dark';
      setTheme(savedTheme);
      if (!localStorage.getItem('selectedTheme')) {
        setTheme('dark');
      }
    });
    function setTheme(theme) {
      document.body.className = theme === 'dark' ? 'theme-dark' : 'theme-purple';
      localStorage.setItem('selectedTheme', theme);
      document.querySelectorAll('.theme-circle').forEach(circle => circle.classList.remove('selected'));
      const selectedCircle = document.getElementById(`theme-${theme}`);
      if (selectedCircle) {
        selectedCircle.classList.add('selected');
      }
      const root = document.documentElement;
      if (theme === 'dark') {
        root.style.setProperty('--main-bg', '#1212121');
        root.style.setProperty('--main-bg-accent', '#2a2a2a');
        root.style.setProperty('--main-bg-accent2', '#3a3a3a');
        root.style.setProperty('--main-text', '#e0e0e0');
        root.style.setProperty('--container-bg', '#1e1e1e');
        root.style.setProperty('--container-border', '#2a2a2a');
        root.style.setProperty('--table-bg', '#2a2a2a');
        root.style.setProperty('--table-th-bg', '#1e1e1e');
        root.style.setProperty('--table-td-bg', '#1e1e1e');
        root.style.setProperty('--table-border', '#3a3a3a');
        root.style.setProperty('--egg-card-bg', '#2a2a2a');
        root.style.setProperty('--egg-header-bg', '#1e1e1e');
        root.style.setProperty('--controls-bg', '#1e1e1e');
        root.style.setProperty('--sidebar-bg', '#1e1e1e');
        root.style.setProperty('--sidebar-header-bg', '#2a2a2a');
        root.style.setProperty('--credits-bg', '#1e1e1e');
        root.style.setProperty('--settings-bg', '#1e1e1e');
        root.style.setProperty('--popup-bg', 'rgba(30,30,30,0.98)');
      } else {
        root.style.setProperty('--main-bg', '#2e003e');
        root.style.setProperty('--main-bg-accent', '#3c005d');
        root.style.setProperty('--main-bg-accent2', '#4a006b');
        root.style.setProperty('--main-text', '#fff');
        root.style.setProperty('--container-bg', '#18101c');
        root.style.setProperty('--container-border', '#2e003e');
        root.style.setProperty('--table-bg', '#5b0077');
        root.style.setProperty('--table-th-bg', '#450056');
        root.style.setProperty('--table-td-bg', '#450056');
        root.style.setProperty('--table-border', '#5e0081');
        root.style.setProperty('--egg-card-bg', '#3c005d');
        root.style.setProperty('--egg-header-bg', '#4a006b');
        root.style.setProperty('--controls-bg', '#4a006b');
        root.style.setProperty('--sidebar-bg', '#4a006b');
        root.style.setProperty('--sidebar-header-bg', '#32004d');
        root.style.setProperty('--credits-bg', '#4a006b');
        root.style.setProperty('--settings-bg', '#4a006b');
        root.style.setProperty('--popup-bg', 'rgba(40,0,60,0.98)');
      }
    }

    function animateThemeSwitch(theme) {
      const overlay = document.getElementById('theme-overlay');
      if (!overlay) {
        setTheme(theme);
        return;
      }

      overlay.style.background = getComputedStyle(document.documentElement).getPropertyValue('--main-bg') || overlay.style.background;
      overlay.style.opacity = '1';

      setTimeout(() => {
        setTheme(theme);

        overlay.style.background = getComputedStyle(document.documentElement).getPropertyValue('--main-bg') || overlay.style.background;

        requestAnimationFrame(() => { overlay.style.opacity = '0'; });
      }, 120);
    }
    
    function filterEggsByWorld(world) {
      const eggList = document.getElementById('egg-list');
      const eggs = eggList.querySelectorAll('.egg-card');
      const activeButton = document.querySelector('.world-button.active');
      if (activeButton && activeButton.getAttribute('onclick').includes(world)) {
        activeButton.classList.remove('active');
        eggs.forEach(egg => egg.style.display = 'block');
        return;
      }
      document.querySelectorAll('.world-button').forEach(button => button.classList.remove('active'));
      document.querySelector(`.world-button[onclick*="${world}"]`).classList.add('active');
      eggs.forEach(egg => {
        const eggWorld = egg.getAttribute('data-world');
        if (eggWorld === world) {
          egg.style.display = 'block';
        } else {
          egg.style.display = 'none';
        }
      });
      searchEggsAndPets();
    }
    function searchEggsAndPets() {
      const searchTerm = document.getElementById('search-bar').value.toLowerCase();
      const eggList = document.getElementById('egg-list');
      const eggs = eggList.querySelectorAll('.egg-card');
      const selectedWorld = document.querySelector('.world-button.active')?.getAttribute('onclick')?.match(/\('(.*?)'\)/)?.[1];
      eggs.forEach(egg => {
        const eggName = egg.querySelector('.egg-header h2').textContent.toLowerCase();
        const petNames = Array.from(egg.querySelectorAll('.pet-name')).map(pet => pet.textContent.toLowerCase());
        const eggWorld = egg.getAttribute('data-world');
        const matchesSearch = eggName.includes(searchTerm) || petNames.some(petName => petName.includes(searchTerm));
        const matchesWorld = !selectedWorld || eggWorld === selectedWorld;
        if (matchesSearch && matchesWorld) {
          egg.style.display = 'block';
        } else {
          egg.style.display = 'none';
        }
      });
    }
    document.addEventListener('click', (event) => {
      const sidebar = document.getElementById('sidebar');
      const menuIcon = document.querySelector('.menu-icon');
      const menuIconImg = document.getElementById('menu-icon-img');
      const discordInvite = document.querySelector('.discord-invite-under-menu');
      if (!sidebar.contains(event.target) && !menuIcon.contains(event.target)) {
        sidebar.classList.remove('open');
        if (menuIconImg) {
          menuIconImg.src = 'Images/Icons/menu.ico';
          menuIconImg.alt = 'Menu';
        }
        if (discordInvite) discordInvite.style.display = '';
      }
      if (
        popup &&
        !popup.contains(event.target) &&
        !creditsButton.contains(event.target) &&
        !event.target.closest('.credits-button-sidebar')
      ) {
        hideCreditsPopup();
      }
      if (
        settingsPopup &&
        !settingsPopup.contains(event.target) &&
        !settingsButton.contains(event.target) &&
        !event.target.closest('.settings-button-sidebar')
      ) {
        settingsPopup.style.display = 'none';
      }
    });
    document.getElementById('sidebar').addEventListener('click', (event) => {
      event.stopPropagation();
    });
    document.querySelector('.credits-button-sidebar').addEventListener('mouseenter', (event) => {
      showCreditsPopup(event);
    });
    document.querySelector('.credits-popup').addEventListener('mouseleave', () => {
      hideCreditsPopup();
    });
    (function() {
      const path = window.location.pathname.replace(/\/+$/, "");
      const calcLink = document.getElementById('sidebar-calc-link');
      const hatchesLink = document.getElementById('sidebar-hatches-link');
      if (path.endsWith('/hatches') || path.endsWith('/hatches.html')) {
        hatchesLink.classList.add('active');
        hatchesLink.setAttribute('aria-current', 'page');
      } else {
        calcLink.classList.add('active');
        calcLink.setAttribute('aria-current', 'page');
      }
    })();
  </script>
  <script async src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
</body>
</html>